{# planner/templates/admin/planner/device_output_grid.html #}
{% load i18n admin_urls static admin_modify chunk_filters %}

<div class="js-inline-admin-formset inline-group"
     id="{{ inline_admin_formset.prefix }}-group"
     data-inline-type="tabular"
     data-inline-formset="{{ inline_admin_formset.inline_formset_data }}">
  <div class="tabular inline-related">
    {{ inline_admin_formset.formset.management_form }}

    <fieldset class="module {{ inline_admin_formset.classes }}"
              aria-labelledby="{{ inline_admin_formset.prefix }}-heading">
      <h2 id="{{ inline_admin_formset.prefix }}-heading" class="inline-heading">
        {{ inline_admin_formset.opts.verbose_name_plural|capfirst }}
        {% if inline_admin_formset.is_collapsible %}<summary>{% endif %}
        {% if inline_admin_formset.is_collapsible %}</summary>{% endif %}
      </h2>

      <table class="dynamic-deviceoutput_set" width="100%" cellspacing="0">
        <tbody>
          {# render forms in rows of 8: #}
          {% for form_chunk in inline_admin_formset.forms|chunk:8 %}
          <tr class="form-row">
            {% for form in form_chunk %}
            <td class="cell">
              {# hidden id/device/output_number fields #}
              {% for hidden in form.hidden_fields %}{{ hidden }}{% endfor %}
              <div class="number">{{ form.initial.output_number }}</div>
              {{ form.signal_name }}
            </td>
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </fieldset>
  </div>
</div>